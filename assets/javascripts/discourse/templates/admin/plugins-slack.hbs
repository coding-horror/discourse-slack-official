<section id="slack">
  <h1>{{i18n "slack.header.rules"}}</h1>
  <table>
    <tr>
      <th>{{i18n "slack.channel"}}</th>
      <th>{{i18n "slack.category"}}</th>
      {{#if taggingEnabled}}
        <th>{{i18n "slack.tags"}}</th>
      {{/if}}
      <th>{{i18n "slack.filter"}}</th>
      <th></th>
    </tr>

    {{#each model as |rule|}}
      <tr class="">
        <td>{{rule.channel}}</td>
        <td>{{rule.category.name}}</td>
        {{#if taggingEnabled}}
          <td>{{rule.tags}}</td>
        {{/if}}
        <td>{{rule.filter_name}}</td>
        <td>
          <div class="pull-right">
            {{d-button action="edit" actionParam=rule icon="pencil" class="edit" title="slack.edit"}}
            {{d-button action="delete" actionParam=rule icon="trash-o" class="delete btn-danger" title="slack.delete"}}
          </div>
        </td>
      </tr>
    {{/each}}
  </table>

  <table>
    <tr class="new-filter">
      <td>{{text-field value=editing.channel placeholderKey="slack.choose.channel" class="channel" width="200px"}}</td>
      <td>{{combo-box value=editing.category_id content=categories width="200px"}}</td>
      {{#if taggingEnabled}}
        <td>{{tag-chooser tags=editing.tags placeholderKey="slack.choose.tags" width="200px"}}</td>
      {{/if}}
      <td>{{combo-box content=filters value=editing.filter none='slack.choose.filter' width="200px"}}</td>
      <td>
        <div class="pull-right">
          {{d-button action="save" icon="save" class="save btn-primary" title="slack.save"}}
        </div>
      </td>
    </tr>
  </table>

  <p>{{{i18n "slack.command.help"}}}</p>

  {{d-button action="testNotification"
      icon="rocket"
      class="test"
      disabled=testingNotification
      title="slack.test_notification"
      label="slack.test_notification"}}

  {{#d-button action="resetSettings" icon="trash" class="reset" title="slack.reset_settings"}}
    {{i18n "slack.reset_settings"}}
  {{/d-button}}
</section>
